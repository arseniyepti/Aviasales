(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{30:function(n,e,t){n.exports=t.p+"static/media/Shape.0356a701.svg"},32:function(n,e,t){n.exports=t.p+"static/media/logo.158bb8bb.svg"},34:function(n,e,t){n.exports=t(59)},59:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(25),o=t.n(c),i=t(26),l=t(2),u=t(1);function s(){var n=Object(l.a)(["\n  display: flex;\n  flex-flow: row wrap;\n"]);return s=function(){return n},n}function f(){var n=Object(l.a)(["\n  display: block;\n  width: 60px;\n  height: 60px;\n  margin-bottom: 50px;\n  border-radius: 50%;\n  box-shadow: 0px 1px 11px rgba(55, 104, 142, 0.3);\n"]);return f=function(){return n},n}function p(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 960px;\n  background-color: #f3f7fa;\n  padding: 50px;\n"]);return p=function(){return n},n}var d=u.default.section(p()),h=u.default.img(f()),x=u.default.div(s()),b=t(5),m=t.n(b),g=t(13),v=t(7),k=t(8),w=t(10),O=t(9),j=t(4),y=t(30),E=t.n(y);function I(){var n=Object(l.a)(["\n  width: 230px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  margin-left: 20px;\n  font-size: 13px;\n  font-weight: normal;\n  position: relative;\n  cursor: pointer;\n  padding-left: 30px;\n\n  &:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    width: 20px;\n    height: 20px;\n    border: 1px solid #9abbce;\n    border-radius: 2px;\n    background: #fff;\n    transition: 0.2s;\n  }\n\n  &:after {\n    content: '';\n    opacity: 0;\n    position: absolute;\n    top: 15px;\n    left: 4px;\n    width: 20px;\n    height: 20px;\n    background: url(",") no-repeat;\n  }\n"]);return I=function(){return n},n}function B(){var n=Object(l.a)(["\n  height: 40px;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    background-color: #f1fcff;\n  }\n"]);return B=function(){return n},n}function A(){var n=Object(l.a)(["\n  position: absolute;\n  z-index: -1;\n  opacity: 0;\n\n  &:checked + label:before {\n    border: 1px solid #2196f3;\n  }\n\n  &:checked + label:after {\n    opacity: 1;\n  }\n"]);return A=function(){return n},n}function S(){var n=Object(l.a)(["\n  padding-left: 20px;\n  padding-bottom: 10px;\n  font-size: 12px;\n  font-weight: Bold;\n  text-transform: uppercase;\n  margin: 0;\n"]);return S=function(){return n},n}function T(){var n=Object(l.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n"]);return T=function(){return n},n}function z(){var n=Object(l.a)(["\n  width: 232px;\n  margin-right: 20px;\n  background-color: #fff;\n  padding: 20px 0 20px 0;\n  display: flex;\n  align-self: flex-start;\n  flex-flow: column nowrap;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return z=function(){return n},n}function V(){var n=Object(l.a)(["\n  width: 500px;\n  display: flex;\n  flex-flow: row wrap;\n"]);return V=function(){return n},n}function C(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 250px;\n  color: ",";\n  font-weight: 600;\n  height: 50px;\n  text-transform: uppercase;\n  font-size: 12px;\n  border: 1px solid ",";\n  border-right-width: 0px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  background-color: ",";\n"]);return C=function(){return n},n}function F(){var n=Object(l.a)(["\n  display: flex;\n  flex-flow: column nowrap;\n  width: 500px;\n"]);return F=function(){return n},n}var M=u.default.div(F()),D=u.default.button(C(),(function(n){return n.activeBtn?"#fff":"#4A4A4A"}),(function(n){return n.activeBtn?"#2196F3":"#DFE5EC"}),(function(n){return n.activeBtn?"#2196F3":"#fff"})),q=u.default.div(V()),G=u.default.div(z()),J=u.default.div(T()),R=u.default.h2(S()),U=u.default.input(A()),N=u.default.div(B()),W=u.default.label(I(),E.a),Y=function(n){Object(w.a)(t,n);var e=Object(O.a)(t);function t(){var n;Object(v.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(n=e.call.apply(e,[this].concat(c))).state={buttons:[{value:"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439",id:"cheapest"},{value:"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439",id:"fastest"}]},n.renderButtons=function(){var e=n.props,t=e.handleChangeActiveBtn,r=e.activeBtn;return n.state.buttons.map((function(n){var e=n.value,c=n.id;return a.a.createElement(D,{key:Object(j.uniqueId)(),id:c,activeBtn:r===c?r:null,onClick:t},e)}))},n}return Object(k.a)(t,[{key:"render",value:function(){return a.a.createElement(q,null,this.renderButtons())}}]),t}(r.Component);function Z(){var n=Object(l.a)(["\n  margin-bottom: auto;\n  height: 50px;\n"]);return Z=function(){return n},n}function H(){var n=Object(l.a)(["\n  text-transform: lowercase;\n"]);return H=function(){return n},n}function L(){var n=Object(l.a)(["\n  margin-top: 0px;\n  font-size: 14px;\n  color: #4a4a4a;\n"]);return L=function(){return n},n}function K(){var n=Object(l.a)(["\n  display: inline-block;\n  height: 20px;\n  margin-top: 10px;\n  font-size: 12px;\n  text-transform: uppercase;\n  color: #a0b0b9;\n"]);return K=function(){return n},n}function P(){var n=Object(l.a)(["\n  display: block;\n  \theight: 50px;\n  \tfont-size: 24px;\n  \tcolor: #2196f3;\n"],["\n  display: block;\n  \\theight: 50px;\n  \\tfont-size: 24px;\n  \\tcolor: #2196f3;\n"]);return P=function(){return n},n}function Q(){var n=Object(l.a)(["\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: flex-end;\n  width: 160px;\n"]);return Q=function(){return n},n}function X(){var n=Object(l.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  margin-top: 20px;\n  width: 500px;\n  height: 195px;\n  padding: 10px 20px 20px 20px;\n  background-color: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n"]);return X=function(){return n},n}var $=u.default.div(X()),_=u.default.div(Q()),nn=u.default.span(P()),en=u.default.span(K()),tn=Object(u.default)(en)(L()),rn=Object(u.default)(tn)(H()),an=u.default.img(Z()),cn=t(33),on=t(11),ln=function(n,e){var t=n?0:1,r=new Date(e[t].date).getTime(),a=new Date(r).getHours(),c=r+6e4*e[t].duration,o=new Date(c).getMinutes(),i=a<10?"0".concat(a):a,l=o<10?"0".concat(o):o;return"".concat(i,":").concat(l)},un=function(n,e){var t=n?0:1,r=Math.floor(e[t].duration/60),a=e[t].duration-60*r,c=Math.floor(r/24),o=r>23?"".concat(c,"\u0434 "):"",i=r<10?"0".concat(r,"\u0447"):"".concat(r,"\u0447"),l=a<10?"0".concat(a,"\u043c"):"".concat(a,"\u043c");return"".concat(o," ").concat(i," ").concat(l)},sn=function(n,e){var t=n?0:1;switch(!0){case e[t].stops.length>1:return"".concat(e[t].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438");case 1===e[t].stops.length:return"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430";default:return"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}},fn=function(n,e,t){return n.map((function(n){return"AllTransfers"===t||t===n.checkboxId?Object(on.a)({},n,{checked:e}):n}))},pn=function(n){var e=n.filter((function(n){return"AllTransfers"!==n.checkboxId}));return n.map((function(n){return e.every((function(n){return n.checked}))?Object(on.a)({},n,{checked:!0}):e.some((function(n){return!n.checked}))&&"AllTransfers"===n.checkboxId?Object(on.a)({},n,{checked:!1}):n}))},dn=function(n,e,t){var r=t.reduce((function(n,e){var t=e.checked,r=e.filterId;return t?[].concat(Object(cn.a)(n),[r]):n}),[]),a=n.sort((function(n,t){return function(n,e,t){return"cheapest"===n?e.price-t.price:e.segments[0].duration+e.segments[1].duration-(t.segments[0].duration+t.segments[1].duration)}(e,n,t)})).filter((function(n){var e=n.segments;return r.includes(e[0].stops.length)||r.includes(e[1].stops.length)}));return 0===r.length?[]:a},hn=function(n){var e=n.carrier,t=n.price,r=n.segments;return a.a.createElement($,null,a.a.createElement(_,null,a.a.createElement(nn,null,t),a.a.createElement(en,null,"".concat(r[0].origin," - ").concat(r[0].destination)),a.a.createElement(tn,null,ln("origin",r)),a.a.createElement(en,null,"".concat(r[1].origin," - ").concat(r[1].destination)),a.a.createElement(tn,null,ln(null,r))),a.a.createElement(_,null,a.a.createElement(en,null,"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(rn,null,un("origin",r)),a.a.createElement(en,null," \u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(rn,null,un(null,r))),a.a.createElement(_,null,a.a.createElement(an,{src:"http://pics.avs.io/99/36/".concat(e,".png"),alt:"\u043b\u043e\u0433\u043e \u0430\u0432\u0438\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",carrier:e}),a.a.createElement(en,null,sn("origin",r)),a.a.createElement(tn,null,r[0].stops.join(", ")),a.a.createElement(en,null,sn(null,r)),a.a.createElement(tn,null,r[1].stops.join(", "))))},xn=function(n){var e=n.checkboxValues,t=n.getId;return e.map((function(n){var e=n.transfers,r=n.checkboxId,c=n.checked;return a.a.createElement(N,{key:Object(j.uniqueId)()},a.a.createElement(U,{checked:c,onChange:t,type:"checkbox",id:r}),a.a.createElement(W,{htmlFor:r},e))}))},bn=t(31),mn=t.n(bn).a.create({baseURL:"https://front-test.beta.aviasales.ru"}),gn=function(n){Object(w.a)(t,n);var e=Object(O.a)(t);function t(){var n;Object(v.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(n=e.call.apply(e,[this].concat(c))).state={activeBtn:"cheapest",tickets:[],checkboxValues:[{transfers:"\u0412\u0441\u0435",checkboxId:"AllTransfers",filterId:"All",checked:!1},{transfers:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",checkboxId:"WithoutTransfers",filterId:0,checked:!1},{transfers:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",checkboxId:"oneTransfer",filterId:1,checked:!1},{transfers:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",checkboxId:"twoTransfers",filterId:2,checked:!1},{transfers:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",checkboxId:"threeTransfers",filterId:3,checked:!1}]},n.getId=function(e){var t=e.target,r=t.id,a=t.checked;n.setState((function(n){var e=n.checkboxValues;return{checkboxValues:fn(e,a,r)}}),(function(){n.setState((function(n){var e=n.checkboxValues;return{checkboxValues:pn(e)}}))}))},n.getTickets=function(){var e=Object(g.a)(m.a.mark((function e(t){var r,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.state.tickets,e.prev=1,e.next=4,mn.get("/tickets?searchId=".concat(t));case 4:a=e.sent,c=a.data,n.setState({tickets:r.concat(c.tickets)}),c.stop||n.getTickets(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.getTickets(t);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),n.handleChangeActiveBtn=function(e){var t=e.target.id;n.setState({activeBtn:t})},n.renderTickets=function(){var e=n.state,t=e.tickets,r=e.activeBtn,c=e.checkboxValues;return dn(t,r,c).slice(0,5).map((function(n){var e=n.segments,t=n.carrier,r=n.price;return a.a.createElement(hn,{key:Object(j.uniqueId)(),carrier:t,price:r,segments:e})}))},n}return Object(k.a)(t,[{key:"componentDidMount",value:function(){var n=Object(g.a)(m.a.mark((function n(){var e,t;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mn.get("/search");case 2:e=n.sent,t=e.data.searchId,this.getTickets(t);case 5:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this.state,e=n.activeBtn,t=n.checkboxValues;return a.a.createElement(J,null,a.a.createElement(G,null,a.a.createElement(R,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement(xn,{getId:this.getId,checkboxValues:t})),a.a.createElement(M,null,a.a.createElement(Y,{activeBtn:e,handleChangeActiveBtn:this.handleChangeActiveBtn}),this.renderTickets()))}}]),t}(a.a.Component),vn=t(32),kn=t.n(vn);var wn=function(){return a.a.createElement(d,null,a.a.createElement(h,{src:kn.a,alt:"logo aviasales"}),a.a.createElement(x,null,a.a.createElement(gn,null)))};function On(){var n=Object(l.a)(["\n\t@font-face {\n\tfont-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: local('Open Sans Regular'), local('OpenSans-Regular'), url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFWJ0bbck.woff2) format('woff2');\n \t}\n \t@font-face {\n \tfont-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  src: local('Open Sans SemiBold'), local('OpenSans-SemiBold'), url(https://fonts.gstatic.com/s/opensans/v17/mem5YaGs126MiZpBA-UNirkOVuhpOqc.woff2) format('woff2');\n \t}\n \t  \n\t*{\n  \tbox-sizing: border-box;\n\t}\n\n  body {\n    font-family: 'Open Sans', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    display: flex;\n    justify-content: center;\n    color: #4A4A4A;\n  }\n"]);return On=function(){return n},n}var jn=Object(u.createGlobalStyle)(On());o.a.render(a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Normalize,null),a.a.createElement(jn,null),a.a.createElement(wn,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.fc1e08c2.chunk.js.map