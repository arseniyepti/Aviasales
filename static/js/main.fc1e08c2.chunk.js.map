{"version":3,"sources":["components/ResultApp/Shape.svg","components/App/logo.svg","styled/styled.jsx","styled/ticketFilterStyled.jsx","components/Buttons/Buttons.jsx","styled/ticketResultStyled.jsx","helpers/helpers.js","components/Ticket/Ticket.jsx","components/Checkboxes/Checkboxes.jsx","helpers/axiosInstance.js","components/ResultApp/ResultApp.jsx","components/App/App.jsx","styled/globalStyled.jsx","index.jsx"],"names":["module","exports","SectionTickets","styled","section","Logo","img","Wrap","div","Wrapper","Button","button","activeBtn","WrapButton","Form","FormWrap","Title","h2","Checkbox","input","Label","label","shape","Buttons","state","buttons","value","id","renderButtons","props","handleChangeActiveBtn","map","key","uniqueId","onClick","this","Component","TicketStyled","ColumnWrap","Price","span","Info","InfoChange","InfoChangeMod","CompanyLogo","getFlyTime","origin","segments","originDate","Date","date","getTime","originHours","getHours","destinationDate","duration","destinationMinutes","getMinutes","hours","minutes","convertMinutes","Math","floor","days","resultDays","resultHours","resultMinutes","formatTransfers","stops","length","setControlledCheckbox","checkboxValues","checked","item","checkboxId","setControlledCheckboxAlltransfers","checkAllCheckboxValues","filter","el","every","some","filterTransfers","tickets","filterCheckboxValues","reduce","acc","filterId","filterTickets","sort","destination","price","sortTicketsHelper","includes","Ticket","carrier","src","alt","join","Checkboxes","getId","transfers","onChange","type","htmlFor","axiosInstance","axios","create","baseURL","ResultApp","target","setState","getTickets","searchId","a","get","data","concat","stop","renderTickets","slice","React","App","logo","GlobalStyle","createGlobalStyle","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fc1e08c2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Shape.0356a701.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.158bb8bb.svg\";","import styled from 'styled-components';\n\nexport const SectionTickets = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 960px;\n  background-color: #f3f7fa;\n  padding: 50px;\n`;\n\nexport const Logo = styled.img`\n  display: block;\n  width: 60px;\n  height: 60px;\n  margin-bottom: 50px;\n  border-radius: 50%;\n  box-shadow: 0px 1px 11px rgba(55, 104, 142, 0.3);\n`;\n\nexport const Wrap = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n`;\n","import styled from 'styled-components';\nimport shape from '../components/ResultApp/Shape.svg';\n\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  width: 500px;\n`;\n\nexport const Button = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 250px;\n  color: ${({ activeBtn }) => (activeBtn ? '#fff' : '#4A4A4A')};\n  font-weight: 600;\n  height: 50px;\n  text-transform: uppercase;\n  font-size: 12px;\n  border: 1px solid ${({ activeBtn }) => (activeBtn ? '#2196F3' : '#DFE5EC')};\n  border-right-width: 0px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  background-color: ${({ activeBtn }) => (activeBtn ? '#2196F3' : '#fff')};\n`;\n\nexport const WrapButton = styled.div`\n  width: 500px;\n  display: flex;\n  flex-flow: row wrap;\n`;\nexport const Form = styled.div`\n  width: 232px;\n  margin-right: 20px;\n  background-color: #fff;\n  padding: 20px 0 20px 0;\n  display: flex;\n  align-self: flex-start;\n  flex-flow: column nowrap;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n`;\nexport const FormWrap = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n`;\n\nexport const Title = styled.h2`\n  padding-left: 20px;\n  padding-bottom: 10px;\n  font-size: 12px;\n  font-weight: Bold;\n  text-transform: uppercase;\n  margin: 0;\n`;\n\nexport const Checkbox = styled.input`\n  position: absolute;\n  z-index: -1;\n  opacity: 0;\n\n  &:checked + label:before {\n    border: 1px solid #2196f3;\n  }\n\n  &:checked + label:after {\n    opacity: 1;\n  }\n`;\n\nexport const Wrap = styled.div`\n  height: 40px;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    background-color: #f1fcff;\n  }\n`;\n\nexport const Label = styled.label`\n  width: 230px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  margin-left: 20px;\n  font-size: 13px;\n  font-weight: normal;\n  position: relative;\n  cursor: pointer;\n  padding-left: 30px;\n\n  &:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    width: 20px;\n    height: 20px;\n    border: 1px solid #9abbce;\n    border-radius: 2px;\n    background: #fff;\n    transition: 0.2s;\n  }\n\n  &:after {\n    content: '';\n    opacity: 0;\n    position: absolute;\n    top: 15px;\n    left: 4px;\n    width: 20px;\n    height: 20px;\n    background: url(${shape}) no-repeat;\n  }\n`;\n","import React, { Component } from 'react';\nimport { uniqueId } from 'lodash';\nimport PropTypes from 'prop-types';\nimport { Button, WrapButton } from '../../styled/ticketFilterStyled';\n\nclass Buttons extends Component {\n  state = {\n    buttons: [\n      {\n        value: 'Самый дешевый',\n        id: 'cheapest',\n      },\n      {\n        value: 'Самый быстрый',\n        id: 'fastest',\n      },\n    ],\n  };\n\n  renderButtons = () => {\n    const { handleChangeActiveBtn, activeBtn } = this.props;\n    const { buttons } = this.state;\n    return buttons.map(({ value, id }) => {\n      return (\n        <Button\n          key={uniqueId()}\n          id={id}\n          activeBtn={activeBtn === id ? activeBtn : null}\n          onClick={handleChangeActiveBtn}\n        >\n          {value}\n        </Button>\n      );\n    });\n  };\n\n  render() {\n    return <WrapButton>{this.renderButtons()}</WrapButton>;\n  }\n}\n\nButtons.propTypes = {\n  activeBtn: PropTypes.string.isRequired,\n  handleChangeActiveBtn: PropTypes.func.isRequired,\n};\nexport default Buttons;\n","import styled from 'styled-components';\n\nexport const TicketStyled = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  margin-top: 20px;\n  width: 500px;\n  height: 195px;\n  padding: 10px 20px 20px 20px;\n  background-color: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n`;\n\nexport const ColumnWrap = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: flex-end;\n  width: 160px;\n`;\n\nexport const Price = styled.span`\n  display: block;\n  \\theight: 50px;\n  \\tfont-size: 24px;\n  \\tcolor: #2196f3;\n`;\n\nexport const Info = styled.span`\n  display: inline-block;\n  height: 20px;\n  margin-top: 10px;\n  font-size: 12px;\n  text-transform: uppercase;\n  color: #a0b0b9;\n`;\nexport const InfoChange = styled(Info)`\n  margin-top: 0px;\n  font-size: 14px;\n  color: #4a4a4a;\n`;\n\nexport const InfoChangeMod = styled(InfoChange)`\n  text-transform: lowercase;\n`;\n\nexport const CompanyLogo = styled.img`\n  margin-bottom: auto;\n  height: 50px;\n`;\n","export const getFlyTime = (origin, segments) => {\n  const value = origin ? 0 : 1;\n  const originDate = new Date(segments[value].date).getTime();\n  const originHours = new Date(originDate).getHours();\n  const destinationDate = originDate + segments[value].duration * 60000;\n  const destinationMinutes = new Date(destinationDate).getMinutes();\n  const hours = originHours < 10 ? `0${originHours}` : originHours;\n  const minutes = destinationMinutes < 10 ? `0${destinationMinutes}` : destinationMinutes;\n  return `${hours}:${minutes}`;\n};\n\nexport const convertMinutes = (origin, segments) => {\n  const value = origin ? 0 : 1;\n  const hours = Math.floor(segments[value].duration / 60);\n  const minutes = segments[value].duration - hours * 60;\n  const days = Math.floor(hours / 24);\n  const resultDays = hours > 23 ? `${days}д ` : '';\n  const resultHours = hours < 10 ? `0${hours}ч` : `${hours}ч`;\n  const resultMinutes = minutes < 10 ? `0${minutes}м` : `${minutes}м`;\n  return `${resultDays} ${resultHours} ${resultMinutes}`;\n};\n\nexport const formatTransfers = (origin, segments) => {\n  const value = origin ? 0 : 1;\n  switch (true) {\n    case segments[value].stops.length > 1: {\n      return `${segments[value].stops.length} пересадки`;\n    }\n    case segments[value].stops.length === 1: {\n      return '1 пересадка';\n    }\n    default: {\n      return 'Без пересадок';\n    }\n  }\n};\n\nexport const setControlledCheckbox = (checkboxValues, checked, id) => {\n  return checkboxValues.map((item) => {\n    if (id === 'AllTransfers' || id === item.checkboxId) {\n      return { ...item, checked };\n    }\n    return item;\n  });\n};\n\nexport const setControlledCheckboxAlltransfers = (checkboxValues) => {\n  const checkAllCheckboxValues = checkboxValues.filter((el) => el.checkboxId !== 'AllTransfers');\n  return checkboxValues.map((item) => {\n    if (checkAllCheckboxValues.every((el) => el.checked)) {\n      return { ...item, checked: true };\n    }\n    if (checkAllCheckboxValues.some((el) => !el.checked)) {\n      return item.checkboxId === 'AllTransfers' ? { ...item, checked: false } : item;\n    }\n    return item;\n  });\n};\n\nexport const sortTicketsHelper = (activeBtn, origin, destination) => {\n  if (activeBtn === 'cheapest') {\n    return origin.price - destination.price;\n  }\n  return (\n    origin.segments[0].duration +\n    origin.segments[1].duration -\n    (destination.segments[0].duration + destination.segments[1].duration)\n  );\n};\n\nexport const filterTransfers = (tickets, activeBtn, checkboxValues) => {\n  const filterCheckboxValues = checkboxValues.reduce((acc, { checked, filterId }) => {\n    return checked ? [...acc, filterId] : acc;\n  }, []);\n  const sortTickets = tickets.sort((origin, destination) => {\n    return sortTicketsHelper(activeBtn, origin, destination);\n  });\n  const filterTickets = sortTickets.filter(({ segments }) => {\n    return (\n      filterCheckboxValues.includes(segments[0].stops.length) ||\n      filterCheckboxValues.includes(segments[1].stops.length)\n    );\n  });\n  return filterCheckboxValues.length === 0 ? [] : filterTickets;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  CompanyLogo,\n  InfoChangeMod,\n  ColumnWrap,\n  Info,\n  Price,\n  InfoChange,\n  TicketStyled,\n} from '../../styled/ticketResultStyled';\nimport { getFlyTime, convertMinutes, formatTransfers } from '../../helpers/helpers';\n\nconst Ticket = ({ carrier, price, segments }) => {\n  return (\n    <TicketStyled>\n      <ColumnWrap>\n        <Price>{price}</Price>\n        <Info>{`${segments[0].origin} - ${segments[0].destination}`}</Info>\n        <InfoChange>{getFlyTime('origin', segments)}</InfoChange>\n        <Info>{`${segments[1].origin} - ${segments[1].destination}`}</Info>\n        <InfoChange>{getFlyTime(null, segments)}</InfoChange>\n      </ColumnWrap>\n      <ColumnWrap>\n        <Info>В пути</Info>\n        <InfoChangeMod>{convertMinutes('origin', segments)}</InfoChangeMod>\n        <Info> В пути</Info>\n        <InfoChangeMod>{convertMinutes(null, segments)}</InfoChangeMod>\n      </ColumnWrap>\n      <ColumnWrap>\n        <CompanyLogo\n          src={`http://pics.avs.io/99/36/${carrier}.png`}\n          alt=\"лого авиа компании\"\n          carrier={carrier}\n        />\n        <Info>{formatTransfers('origin', segments)}</Info>\n        <InfoChange>{segments[0].stops.join(', ')}</InfoChange>\n        <Info>{formatTransfers(null, segments)}</Info>\n        <InfoChange>{segments[1].stops.join(', ')}</InfoChange>\n      </ColumnWrap>\n    </TicketStyled>\n  );\n};\n\nTicket.propTypes = {\n  carrier: PropTypes.string.isRequired,\n  price: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  segments: PropTypes.instanceOf(Array).isRequired,\n};\n\nexport default Ticket;\n","import React from 'react';\nimport { uniqueId } from 'lodash';\nimport { Checkbox, Label, Wrap } from '../../styled/ticketFilterStyled';\n\nconst Checkboxes = ({ checkboxValues, getId }) => {\n  return checkboxValues.map(({ transfers, checkboxId, checked }) => {\n    return (\n      <Wrap key={uniqueId()}>\n        <Checkbox checked={checked} onChange={getId} type=\"checkbox\" id={checkboxId} />\n        <Label htmlFor={checkboxId}>{transfers}</Label>\n      </Wrap>\n    );\n  });\n};\n\nexport default Checkboxes;\n","import axios from 'axios';\n\nconst axiosInstance = axios.create({\n  baseURL: 'https://front-test.beta.aviasales.ru',\n});\nexport default axiosInstance;\n","import React from 'react';\nimport { uniqueId } from 'lodash';\nimport Buttons from '../Buttons/Buttons';\nimport Ticket from '../Ticket/Ticket';\nimport Checkboxes from '../Checkboxes/Checkboxes';\nimport axiosInstance from '../../helpers/axiosInstance';\nimport { Form, Title, FormWrap, Wrapper } from '../../styled/ticketFilterStyled';\nimport {\n  setControlledCheckbox,\n  setControlledCheckboxAlltransfers,\n  filterTransfers,\n} from '../../helpers/helpers';\n\nexport default class ResultApp extends React.Component {\n  state = {\n    activeBtn: 'cheapest',\n    tickets: [],\n    checkboxValues: [\n      {\n        transfers: 'Все',\n        checkboxId: 'AllTransfers',\n        filterId: 'All',\n        checked: false,\n      },\n      {\n        transfers: 'Без пересадок',\n        checkboxId: 'WithoutTransfers',\n        filterId: 0,\n        checked: false,\n      },\n      {\n        transfers: '1 пересадка',\n        checkboxId: 'oneTransfer',\n        filterId: 1,\n        checked: false,\n      },\n      {\n        transfers: '2 пересадки',\n        checkboxId: 'twoTransfers',\n        filterId: 2,\n        checked: false,\n      },\n      {\n        transfers: '3 пересадки',\n        checkboxId: 'threeTransfers',\n        filterId: 3,\n        checked: false,\n      },\n    ],\n  };\n\n  async componentDidMount() {\n    const {\n      data: { searchId },\n    } = await axiosInstance.get('/search');\n    this.getTickets(searchId);\n  }\n\n  getId = ({ target }) => {\n    const { id, checked } = target;\n    this.setState(\n      ({ checkboxValues }) => ({\n        checkboxValues: setControlledCheckbox(checkboxValues, checked, id),\n      }),\n      () => {\n        this.setState(({ checkboxValues }) => ({\n          checkboxValues: setControlledCheckboxAlltransfers(checkboxValues, checked),\n        }));\n      }\n    );\n  };\n\n  getTickets = async (searchId) => {\n    const { tickets } = this.state;\n    try {\n      const { data } = await axiosInstance.get(`/tickets?searchId=${searchId}`);\n      this.setState({\n        tickets: tickets.concat(data.tickets),\n      });\n      if (!data.stop) {\n        this.getTickets(searchId);\n      }\n    } catch (error) {\n      this.getTickets(searchId);\n    }\n  };\n\n  handleChangeActiveBtn = ({ target: { id } }) => {\n    this.setState({\n      activeBtn: id,\n    });\n  };\n\n  renderTickets = () => {\n    const { tickets, activeBtn, checkboxValues } = this.state;\n    const array = filterTransfers(tickets, activeBtn, checkboxValues);\n    return array.slice(0, 5).map(({ segments, carrier, price }) => {\n      return <Ticket key={uniqueId()} carrier={carrier} price={price} segments={segments} />;\n    });\n  };\n\n  render() {\n    const { activeBtn, checkboxValues } = this.state;\n    return (\n      <FormWrap>\n        <Form>\n          <Title>Количество пересадок</Title>\n          <Checkboxes getId={this.getId} checkboxValues={checkboxValues} />\n        </Form>\n        <Wrapper>\n          <Buttons activeBtn={activeBtn} handleChangeActiveBtn={this.handleChangeActiveBtn} />\n          {this.renderTickets()}\n        </Wrapper>\n      </FormWrap>\n    );\n  }\n}\n","import React from 'react';\nimport { SectionTickets, Logo, Wrap } from '../../styled/styled';\nimport ResultApp from '../ResultApp/ResultApp';\nimport logo from './logo.svg';\n\nfunction App() {\n  return (\n    <SectionTickets>\n      <Logo src={logo} alt=\"logo aviasales\" />\n      <Wrap>\n        <ResultApp />\n      </Wrap>\n    </SectionTickets>\n  );\n}\n\nexport default App;\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n\t@font-face {\n\tfont-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: local('Open Sans Regular'), local('OpenSans-Regular'), url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFWJ0bbck.woff2) format('woff2');\n \t}\n \t@font-face {\n \tfont-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  src: local('Open Sans SemiBold'), local('OpenSans-SemiBold'), url(https://fonts.gstatic.com/s/opensans/v17/mem5YaGs126MiZpBA-UNirkOVuhpOqc.woff2) format('woff2');\n \t}\n \t  \n\t*{\n  \tbox-sizing: border-box;\n\t}\n\n  body {\n    font-family: 'Open Sans', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    display: flex;\n    justify-content: center;\n    color: #4A4A4A;\n  }\n`;\n\nexport default GlobalStyle;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Normalize } from 'styled-normalize';\nimport App from './components/App/App';\nimport GlobalStyle from './styled/globalStyled';\n\nReactDOM.render(\n  <>\n    <Normalize />\n    <GlobalStyle />\n    <App />\n  </>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}